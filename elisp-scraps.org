* use read-from-string for string to emacs expression

* replace character codes with character notation in buffer

#+BEGIN_SRC emacs-lisp
    (let ((case-fold-search nil))
      (while (re-search-forward "(\\([0-9]\\{2,3\\}\\)\\([^0-9]\\)" nil t)
        (let* ((num (string-to-number (match-string 1)))
               (asstr (string num))
               (matchstring2 (match-string 2)))
          (replace-match
           (save-match-data
                           (concat "(?"
                                 (cond ((= num 27) "\\\\e")
                                       ((< num ?\s) (error "ERRR"))
                                       ((string-match "[a-zA-Z0-9]" asstr) asstr)
                                       (t (concat "\\\\" asstr)))
                                 matchstring2))))))

    (let ((case-fold-search nil))
      (while (re-search-forward "\\[[0-9]+]" nil t)
        (let* ((vec (car (read-from-string (match-string 0)))))
          (setq temp0 vec)
          (setq vec
                (save-match-data
                  (replace-regexp-in-string "\\\\" "\\\\\\\\" (key-description vec))))
          (setq vec
                (save-match-data
                  (replace-regexp-in-string "\"" "\\\\\"" vec)))
          (setq temp1 vec)
          (replace-match
           (concat "\"" vec "\"")
           nil t))))
#+END_SRC


* keyboard-translate-table from emacs in terminal

(in-pr-map 'map-char-table keyboard-translate-table)
((8: 8)
 (127: 127))

* converted `input-decode-map' from emacs in terminal

#+BEGIN_SRC emacs-lisp
  (keymap
   (?\e keymap
       (?\[ keymap
           (?\>)
           (?\?)
           (?5 keymap
               (?\~ .
                    [prior])
               (?\; keymap
                   (?2 keymap
                       (?\~ .
                            [S-prior]))))
           (?6 keymap
               (?\~ .
                    [next])
               (?\; keymap
                   (?2 keymap
                       (?\~ .
                            [S-next]))))
           (?1 keymap
               (?\; keymap
                   (?4 keymap
                       (?R .
                           [f63])
                       (?Q .
                           [f62])
                       (?P .
                           [f61]))
                   (?3 keymap
                       (?S .
                           [f52])
                       (?R .
                           [f51])
                       (?Q .
                           [f50])
                       (?P .
                           [f49]))
                   (?6 keymap
                       (?S .
                           [f40])
                       (?R .
                           [f39])
                       (?Q .
                           [f38])
                       (?P .
                           [f37]))
                   (?5 keymap
                       (?S .
                           [f28])
                       (?R .
                           [f27])
                       (?Q .
                           [f26])
                       (?P .
                           [f25]))
                   (?2 keymap
                       (?S .
                           [f16])
                       (?R .
                           [f15])
                       (?Q .
                           [f14])
                       (?P .
                           [f13])
                       (?C .
                           [S-right])
                       (?D .
                           [S-left])
                       (?H .
                           [S-home])
                       (?F .
                           [S-end])))
               (?9 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f56]))
                       (?6 keymap
                           (?\~ .
                                [f44]))
                       (?5 keymap
                           (?\~ .
                                [f32]))
                       (?2 keymap
                           (?\~ .
                                [f20])))
                   (?\~ .
                        [f8]))
               (?8 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f55]))
                       (?6 keymap
                           (?\~ .
                                [f43]))
                       (?5 keymap
                           (?\~ .
                                [f31]))
                       (?2 keymap
                           (?\~ .
                                [f19])))
                   (?\~ .
                        [f7]))
               (?7 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f54]))
                       (?6 keymap
                           (?\~ .
                                [f42]))
                       (?5 keymap
                           (?\~ .
                                [f30]))
                       (?2 keymap
                           (?\~ .
                                [f18])))
                   (?\~ .
                        [f6]))
               (?5 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f53]))
                       (?6 keymap
                           (?\~ .
                                [f41]))
                       (?5 keymap
                           (?\~ .
                                [f29]))
                       (?2 keymap
                           (?\~ .
                                [f17])))
                   (?\~ .
                        [f5])))
           (?Z .
               [backtab])
           (?3 keymap
               (?\; keymap
                   (?2 keymap
                       (?\~ .
                            [S-delete])))
               (?\~ .
                    [deletechar]))
           (?2 keymap
               (?4 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f60]))
                       (?6 keymap
                           (?\~ .
                                [f48]))
                       (?5 keymap
                           (?\~ .
                                [f36]))
                       (?2 keymap
                           (?\~ .
                                [f24])))
                   (?\~ .
                        [f12]))
               (?3 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f59]))
                       (?6 keymap
                           (?\~ .
                                [f47]))
                       (?5 keymap
                           (?\~ .
                                [f35]))
                       (?2 keymap
                           (?\~ .
                                [f23])))
                   (?\~ .
                        [f11]))
               (?1 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f58]))
                       (?6 keymap
                           (?\~ .
                                [f46]))
                       (?5 keymap
                           (?\~ .
                                [f34]))
                       (?2 keymap
                           (?\~ .
                                [f22])))
                   (?\~ .
                        [f10]))
               (?\; keymap
                   (?2 keymap
                       (?\~ .
                            [S-insert])))
               (?0 keymap
                   (?\; keymap
                       (?3 keymap
                           (?\~ .
                                [f57]))
                       (?6 keymap
                           (?\~ .
                                [f45]))
                       (?5 keymap
                           (?\~ .
                                [f33]))
                       (?2 keymap
                           (?\~ .
                                [f21])))
                   (?\~ .
                        [f9]))
               (?\~ .
                    [insertchar])))
       (?O keymap
           (?S .
               [f4])
           (?R .
               [f3])
           (?Q .
               [f2])
           (?P .
               [f1])
           (?E .
               [kp-5])
           (?M .
               [kp-enter])
           (?F .
               [end])
           (?B .
               [down])
           (?C .
               [right])
           (?A .
               [up])
           (?D .
               [left])
           (?H .
               [home])))
   keymap
   (?\e keymap
       (?\[ keymap
           (?D .
               [left])
           (?C .
               [right])
           (?B .
               [down])
           (?A .
               [up])
           (?9 keymap
               (?2 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #33=[?\C-\M-\\]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #65=[?\C-\M-\\])))
                       (?5 keymap
                           (?u . #91=[?\C-\\]))))
               (?\; keymap
                   (?6 keymap
                       (?u . #67=[C-S-tab]))
                   (?2 keymap
                       (?u . #1=[S-tab]))
                   (?7 keymap
                       (?u . #34=[C-M-tab]))
                   (?1 keymap
                       (?3 keymap
                           (?u . #66=[C-M-tab])))
                   (?5 keymap
                       (?u . #92=[C-tab]))))
           (?4 keymap
               (?3 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #5=[?\C-\M-\+]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #38=[?\C-\M-\+])))
                       (?6 keymap
                           (?u . #71=[?\C-\+]))))
               (?2 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #6=[?\C-\M-\*]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #39=[?\C-\M-\*])))
                       (?6 keymap
                           (?u . #72=[?\C-\*]))))
               (?1 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #7=[?\C-\M-\)]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #40=[?\C-\M-\)])))
                       (?6 keymap
                           (?u . #73=[?\C-\)]))))
               (?0 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #8=[?\C-\M-\(]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #41=[?\C-\M-\(])))
                       (?6 keymap
                           (?u . #74=[?\C-\(]))))
               (?9 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #25=[?\C-\M-1]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #58=[?\C-\M-1])))
                       (?5 keymap
                           (?u . #84=[?\C-1]))))
               (?8 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #26=[?\C-\M-0]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #59=[?\C-\M-0])))
                       (?5 keymap
                           (?u . #85=[?\C-0]))))
               (?7 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #27=[?\C-\M-\/]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #60=[?\C-\M-\/])))
                       (?5 keymap
                           (?u . #86=[?\C-\/]))))
               (?6 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #28=[?\C-\M-\.]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #61=[?\C-\M-\.])))
                       (?5 keymap
                           (?u . #87=[?\C-\.]))))
               (?5 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #29=[?\C-\M-\-]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #62=[?\C-\M-\-])))
                       (?5 keymap
                           (?u . #88=[?\C-\-]))))
               (?4 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #30=[?\C-\M-\,]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #63=[?\C-\M-\,])))
                       (?5 keymap
                           (?u . #89=[?\C-\,]))))
               (?\~ .
                    [select]))
           (?6 keymap
               (?3 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u .
                                [?\C-\M-(\?)]))
                       (?1 keymap
                           (?4 keymap
                               (?u .
                                    [?\C-\M-(\?)])))
                       (?6 keymap
                           (?u .
                                [?\C-(\?)]))))
               (?2 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #2=[?\C-\M-\>]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #35=[?\C-\M-\>])))
                       (?6 keymap
                           (?u . #68=[?\C-\>]))))
               (?0 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #3=[?\C-\M-\<]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #36=[?\C-\M-\<])))
                       (?6 keymap
                           (?u . #69=[?\C-\<]))))
               (?1 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #15=[?\C-\M-\=]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #48=[?\C-\M-\=])))
                       (?5 keymap
                           (?u . #81=[?\C-\=]))))
               (?\; keymap
                   (?3 keymap
                       (?\~ .
                            [M-next]))
                   (?8 keymap
                       (?\~ .
                            [C-M-S-next]))
                   (?7 keymap
                       (?\~ .
                            [C-M-next]))
                   (?6 keymap
                       (?\~ .
                            [C-S-next]))
                   (?5 keymap
                       (?\~ .
                            [C-next]))
                   (?4 keymap
                       (?\~ .
                            [M-S-next]))
                   (?2 keymap
                       (?\~ .
                            [S-next])))
               (?\~ .
                    [next]))
           (?5 keymap
               (?6 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #18=[?\C-\M-8]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #51=[?\C-\M-8])))))
               (?5 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #19=[?\C-\M-7]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #52=[?\C-\M-7])))))
               (?4 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #20=[?\C-\M-6]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #53=[?\C-\M-6])))))
               (?3 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #21=[?\C-\M-5]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #54=[?\C-\M-5])))))
               (?2 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #22=[?\C-\M-4]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #55=[?\C-\M-4])))))
               (?1 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #23=[?\C-\M-3]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #56=[?\C-\M-3])))))
               (?0 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #24=[?\C-\M-2]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #57=[?\C-\M-2])))))
               (?8 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #4=[?\C-\M-\:]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #37=[?\C-\M-\:])))
                       (?6 keymap
                           (?u . #70=[?\C-\:]))))
               (?9 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #16=[?\C-\M-\;]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #49=[?\C-\M-\;])))
                       (?5 keymap
                           (?u . #82=[?\C-\;]))))
               (?7 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #17=[?\C-\M-9]))
                       (?1 keymap
                           (?3 keymap
                               (?u . #50=[?\C-\M-9])))
                       (?5 keymap
                           (?u . #83=[?\C-9]))))
               (?\; keymap
                   (?3 keymap
                       (?\~ .
                            [M-prior]))
                   (?8 keymap
                       (?\~ .
                            [C-M-S-prior]))
                   (?7 keymap
                       (?\~ .
                            [C-M-prior]))
                   (?6 keymap
                       (?\~ .
                            [C-S-prior]))
                   (?5 keymap
                       (?\~ .
                            [C-prior]))
                   (?4 keymap
                       (?\~ .
                            [M-S-prior]))
                   (?2 keymap
                       (?\~ .
                            [S-prior])))
               (?\~ .
                    [prior]))
           (?3 keymap
               (?2 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #32=[?\C-\M-\ ]))))
               (?8 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #9=[?\C-\M-\&]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #42=[?\C-\M-\&])))
                       (?6 keymap
                           (?u . #75=[?\C-\&]))))
               (?7 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #10=[?\C-\M-\%]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #43=[?\C-\M-\%])))
                       (?6 keymap
                           (?u . #76=[?\C-\%]))))
               (?6 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #11=[?\C-\M-\$]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #44=[?\C-\M-\$])))
                       (?6 keymap
                           (?u . #77=[?\C-\$]))))
               (?5 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #12=[?\C-\M-\#]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #45=[?\C-\M-\#])))
                       (?6 keymap
                           (?u . #78=[?\C-\#]))))
               (?4 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #13=[?\C-\M-\"]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #46=[?\C-\M-\"])))
                       (?6 keymap
                           (?u . #79=[?\C-\"]))))
               (?3 keymap
                   (?\; keymap
                       (?8 keymap
                           (?u . #14=[?\C-\M-\!]))
                       (?1 keymap
                           (?4 keymap
                               (?u . #47=[?\C-\M-\!])))
                       (?6 keymap
                           (?u . #80=[?\C-\!]))))
               (?9 keymap
                   (?\; keymap
                       (?7 keymap
                           (?u . #31=[?\C-\M-\']))
                       (?1 keymap
                           (?3 keymap
                               (?u . #64=[?\C-\M-\'])))
                       (?5 keymap
                           (?u . #90=[?\C-\']))))
               (?\; keymap
                   (?3 keymap
                       (?\~ .
                            [M-delete]))
                   (?8 keymap
                       (?\~ .
                            [C-M-S-delete]))
                   (?7 keymap
                       (?\~ .
                            [C-M-delete]))
                   (?6 keymap
                       (?\~ .
                            [C-S-delete]))
                   (?5 keymap
                       (?\~ .
                            [C-delete]))
                   (?4 keymap
                       (?\~ .
                            [M-S-delete]))
                   (?2 keymap
                       (?\~ .
                            [S-delete])))
               (?\~ .
                    [delete]))
           (?2 keymap
               (?7 keymap
                   (?\; keymap
                       (?2 keymap
                           (?\; keymap
                               (?1 keymap
                                   (?3 keymap
                                       (?\~ . #94=[S-return])))
                               (?9 keymap
                                   (?\~ . #1#))))
                       (?8 keymap
                           (?\; keymap
                               (?6 keymap
                                   (?3 keymap
                                       (?\~ .
                                            [?\C-\M-(\?)]))
                                   (?2 keymap
                                       (?\~ . #2#))
                                   (?0 keymap
                                       (?\~ . #3#)))
                               (?5 keymap
                                   (?8 keymap
                                       (?\~ . #4#)))
                               (?4 keymap
                                   (?3 keymap
                                       (?\~ . #5#))
                                   (?2 keymap
                                       (?\~ . #6#))
                                   (?1 keymap
                                       (?\~ . #7#))
                                   (?0 keymap
                                       (?\~ . #8#)))
                               (?3 keymap
                                   (?8 keymap
                                       (?\~ . #9#))
                                   (?7 keymap
                                       (?\~ . #10#))
                                   (?6 keymap
                                       (?\~ . #11#))
                                   (?5 keymap
                                       (?\~ . #12#))
                                   (?4 keymap
                                       (?\~ . #13#))
                                   (?3 keymap
                                       (?\~ . #14#)))))
                       (?7 keymap
                           (?\; keymap
                               (?6 keymap
                                   (?1 keymap
                                       (?\~ . #15#)))
                               (?5 keymap
                                   (?9 keymap
                                       (?\~ . #16#))
                                   (?7 keymap
                                       (?\~ . #17#))
                                   (?6 keymap
                                       (?\~ . #18#))
                                   (?5 keymap
                                       (?\~ . #19#))
                                   (?4 keymap
                                       (?\~ . #20#))
                                   (?3 keymap
                                       (?\~ . #21#))
                                   (?2 keymap
                                       (?\~ . #22#))
                                   (?1 keymap
                                       (?\~ . #23#))
                                   (?0 keymap
                                       (?\~ . #24#)))
                               (?4 keymap
                                   (?9 keymap
                                       (?\~ . #25#))
                                   (?8 keymap
                                       (?\~ . #26#))
                                   (?7 keymap
                                       (?\~ . #27#))
                                   (?6 keymap
                                       (?\~ . #28#))
                                   (?5 keymap
                                       (?\~ . #29#))
                                   (?4 keymap
                                       (?\~ . #30#)))
                               (?3 keymap
                                   (?9 keymap
                                       (?\~ . #31#))
                                   (?2 keymap
                                       (?\~ . #32#)))
                               (?1 keymap
                                   (?3 keymap
                                       (?\~ . #95=[C-M-return])))
                               (?9 keymap
                                   (?2 keymap
                                       (?\~ . #33#))
                                   (?\~ . #34#))))
                       (?1 keymap
                           (?4 keymap
                               (?\; keymap
                                   (?6 keymap
                                       (?3 keymap
                                           (?\~ .
                                                [?\C-\M-(\?)]))
                                       (?2 keymap
                                           (?\~ . #35#))
                                       (?0 keymap
                                           (?\~ . #36#)))
                                   (?5 keymap
                                       (?8 keymap
                                           (?\~ . #37#)))
                                   (?4 keymap
                                       (?3 keymap
                                           (?\~ . #38#))
                                       (?2 keymap
                                           (?\~ . #39#))
                                       (?1 keymap
                                           (?\~ . #40#))
                                       (?0 keymap
                                           (?\~ . #41#)))
                                   (?3 keymap
                                       (?8 keymap
                                           (?\~ . #42#))
                                       (?7 keymap
                                           (?\~ . #43#))
                                       (?6 keymap
                                           (?\~ . #44#))
                                       (?5 keymap
                                           (?\~ . #45#))
                                       (?4 keymap
                                           (?\~ . #46#))
                                       (?3 keymap
                                           (?\~ . #47#)))))
                           (?3 keymap
                               (?\; keymap
                                   (?6 keymap
                                       (?1 keymap
                                           (?\~ . #48#)))
                                   (?5 keymap
                                       (?9 keymap
                                           (?\~ . #49#))
                                       (?7 keymap
                                           (?\~ . #50#))
                                       (?6 keymap
                                           (?\~ . #51#))
                                       (?5 keymap
                                           (?\~ . #52#))
                                       (?4 keymap
                                           (?\~ . #53#))
                                       (?3 keymap
                                           (?\~ . #54#))
                                       (?2 keymap
                                           (?\~ . #55#))
                                       (?1 keymap
                                           (?\~ . #56#))
                                       (?0 keymap
                                           (?\~ . #57#)))
                                   (?4 keymap
                                       (?9 keymap
                                           (?\~ . #58#))
                                       (?8 keymap
                                           (?\~ . #59#))
                                       (?7 keymap
                                           (?\~ . #60#))
                                       (?6 keymap
                                           (?\~ . #61#))
                                       (?5 keymap
                                           (?\~ . #62#))
                                       (?4 keymap
                                           (?\~ . #63#)))
                                   (?3 keymap
                                       (?9 keymap
                                           (?\~ . #64#)))
                                   (?1 keymap
                                       (?3 keymap
                                           (?\~ . #96=[C-M-return])))
                                   (?9 keymap
                                       (?2 keymap
                                           (?\~ . #65#))
                                       (?\~ . #66#)))))
                       (?6 keymap
                           (?\; keymap
                               (?1 keymap
                                   (?3 keymap
                                       (?\~ . #93=[C-S-return])))
                               (?9 keymap
                                   (?\~ . #67#))
                               (?6 keymap
                                   (?3 keymap
                                       (?\~ .
                                            [?\C-(\?)]))
                                   (?2 keymap
                                       (?\~ . #68#))
                                   (?0 keymap
                                       (?\~ . #69#)))
                               (?5 keymap
                                   (?8 keymap
                                       (?\~ . #70#)))
                               (?4 keymap
                                   (?3 keymap
                                       (?\~ . #71#))
                                   (?2 keymap
                                       (?\~ . #72#))
                                   (?1 keymap
                                       (?\~ . #73#))
                                   (?0 keymap
                                       (?\~ . #74#)))
                               (?3 keymap
                                   (?8 keymap
                                       (?\~ . #75#))
                                   (?7 keymap
                                       (?\~ . #76#))
                                   (?6 keymap
                                       (?\~ . #77#))
                                   (?5 keymap
                                       (?\~ . #78#))
                                   (?4 keymap
                                       (?\~ . #79#))
                                   (?3 keymap
                                       (?\~ . #80#)))))
                       (?5 keymap
                           (?\; keymap
                               (?6 keymap
                                   (?1 keymap
                                       (?\~ . #81#)))
                               (?5 keymap
                                   (?9 keymap
                                       (?\~ . #82#))
                                   (?7 keymap
                                       (?\~ . #83#)))
                               (?4 keymap
                                   (?9 keymap
                                       (?\~ . #84#))
                                   (?8 keymap
                                       (?\~ . #85#))
                                   (?7 keymap
                                       (?\~ . #86#))
                                   (?6 keymap
                                       (?\~ . #87#))
                                   (?5 keymap
                                       (?\~ . #88#))
                                   (?4 keymap
                                       (?\~ . #89#)))
                               (?3 keymap
                                   (?9 keymap
                                       (?\~ . #90#)))
                               (?1 keymap
                                   (?3 keymap
                                       (?\~ . #97=[C-return])))
                               (?9 keymap
                                   (?2 keymap
                                       (?\~ . #91#))
                                   (?\~ . #92#))))))
               (?9 keymap
                   (?\~ .
                        [print]))
               (?\; keymap
                   (?3 keymap
                       (?\~ .
                            [M-insert]))
                   (?8 keymap
                       (?\~ .
                            [C-M-S-insert]))
                   (?7 keymap
                       (?\~ .
                            [C-M-insert]))
                   (?6 keymap
                       (?\~ .
                            [C-S-insert]))
                   (?5 keymap
                       (?\~ .
                            [C-insert]))
                   (?4 keymap
                       (?\~ .
                            [M-S-insert]))
                   (?2 keymap
                       (?\~ .
                            [S-insert])))
               (?\~ .
                    [insert])
               (?4 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f12]))
                       (?3 keymap
                           (?\~ .
                                [M-f12]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f12]))
                       (?5 keymap
                           (?\~ .
                                [C-f12]))
                       (?2 keymap
                           (?\~ .
                                [S-f12])))
                   (?\~ .
                        [f12]))
               (?3 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f11]))
                       (?3 keymap
                           (?\~ .
                                [M-f11]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f11]))
                       (?5 keymap
                           (?\~ .
                                [C-f11]))
                       (?2 keymap
                           (?\~ .
                                [S-f11])))
                   (?\~ .
                        [f11]))
               (?1 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f10]))
                       (?3 keymap
                           (?\~ .
                                [M-f10]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f10]))
                       (?5 keymap
                           (?\~ .
                                [C-f10]))
                       (?2 keymap
                           (?\~ .
                                [S-f10])))
                   (?\~ .
                        [f10]))
               (?0 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f9]))
                       (?3 keymap
                           (?\~ .
                                [M-f9]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f9]))
                       (?5 keymap
                           (?\~ .
                                [C-f9]))
                       (?2 keymap
                           (?\~ .
                                [S-f9])))
                   (?\~ .
                        [f9])))
           (?1 keymap
               (?4 keymap
                   (?\~ .
                        [f4]))
               (?2 keymap
                   (?\~ .
                        [f2]))
               (?1 keymap
                   (?\~ .
                        [f1]))
               (?\~ .
                    [home])
               (?3 keymap
                   (?\~ .
                        [f3])
                   (?\; keymap
                       (?6 keymap
                           (?u . #93#))
                       (?2 keymap
                           (?u . #94#))
                       (?7 keymap
                           (?u . #95#))
                       (?1 keymap
                           (?3 keymap
                               (?u . #96#)))
                       (?5 keymap
                           (?u . #97#))))
               (?\; keymap
                   (?3 keymap
                       (?H .
                           [M-home])
                       (?F .
                           [M-end])
                       (?D .
                           [M-left])
                       (?C .
                           [M-right])
                       (?B .
                           [M-down])
                       (?A .
                           [M-up]))
                   (?8 keymap
                       (?H .
                           [C-M-S-home])
                       (?F .
                           [C-M-S-end])
                       (?D .
                           [C-M-S-left])
                       (?C .
                           [C-M-S-right])
                       (?B .
                           [C-M-S-down])
                       (?A .
                           [C-M-S-up]))
                   (?7 keymap
                       (?H .
                           [C-M-home])
                       (?F .
                           [C-M-end])
                       (?D .
                           [C-M-left])
                       (?C .
                           [C-M-right])
                       (?B .
                           [C-M-down])
                       (?A .
                           [C-M-up]))
                   (?6 keymap
                       (?H .
                           [C-S-home])
                       (?F .
                           [C-S-end])
                       (?D .
                           [C-S-left])
                       (?C .
                           [C-S-right])
                       (?B .
                           [C-S-down])
                       (?A .
                           [C-S-up]))
                   (?5 keymap
                       (?H .
                           [C-home])
                       (?F .
                           [C-end])
                       (?D .
                           [C-left])
                       (?C .
                           [C-right])
                       (?B .
                           [C-down])
                       (?A .
                           [C-up]))
                   (?4 keymap
                       (?H .
                           [M-S-home])
                       (?F .
                           [M-S-end])
                       (?D .
                           [M-S-left])
                       (?C .
                           [M-S-right])
                       (?B .
                           [M-S-down])
                       (?A .
                           [M-S-up]))
                   (?2 keymap
                       (?H .
                           [S-home])
                       (?F .
                           [S-end])
                       (?D .
                           [S-left])
                       (?C .
                           [S-right])
                       (?B .
                           [S-down])
                       (?A .
                           [S-up])
                       (?S .
                           [S-f4])
                       (?R .
                           [S-f3])
                       (?Q .
                           [S-f2])
                       (?P .
                           [S-f1])))
               (?9 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f8]))
                       (?3 keymap
                           (?\~ .
                                [M-f8]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f8]))
                       (?5 keymap
                           (?\~ .
                                [C-f8]))
                       (?2 keymap
                           (?\~ .
                                [S-f8])))
                   (?\~ .
                        [f8]))
               (?8 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f7]))
                       (?3 keymap
                           (?\~ .
                                [M-f7]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f7]))
                       (?5 keymap
                           (?\~ .
                                [C-f7]))
                       (?2 keymap
                           (?\~ .
                                [S-f7])))
                   (?\~ .
                        [f7]))
               (?7 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f6]))
                       (?3 keymap
                           (?\~ .
                                [M-f6]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f6]))
                       (?5 keymap
                           (?\~ .
                                [C-f6]))
                       (?2 keymap
                           (?\~ .
                                [S-f6])))
                   (?\~ .
                        [f6]))
               (?5 keymap
                   (?\; keymap
                       (?4 keymap
                           (?\~ .
                                [M-S-f5]))
                       (?3 keymap
                           (?\~ .
                                [M-f5]))
                       (?6 keymap
                           (?\~ .
                                [C-S-f5]))
                       (?5 keymap
                           (?\~ .
                                [C-f5]))
                       (?2 keymap
                           (?\~ .
                                [S-f5])))
                   (?\~ .
                        [f5]))))
       (?O keymap
           (?y .
                [kp-9])
           (?x .
                [kp-8])
           (?w .
                [kp-7])
           (?v .
                [kp-6])
           (?u .
                [kp-5])
           (?t .
                [kp-4])
           (?s .
                [kp-3])
           (?r .
                [kp-2])
           (?q .
                [kp-1])
           (?p .
                [kp-0])
           (?o .
                [kp-divide])
           (?m .
                [kp-subtract])
           (?l .
                [kp-separator])
           (?k .
                [kp-add])
           (?j .
                [kp-multiply])
           (?H .
               [home])
           (?F .
               [end])
           (?D .
               [left])
           (?C .
               [right])
           (?B .
               [down])
           (?A .
               [up])
           (?4 keymap
               (?S .
                   [M-S-f4])
               (?R .
                   [M-S-f3])
               (?Q .
                   [M-S-f2])
               (?P .
                   [M-S-f1]))
           (?3 keymap
               (?S .
                   [M-f4])
               (?R .
                   [M-f3])
               (?Q .
                   [M-f2])
               (?P .
                   [M-f1]))
           (?6 keymap
               (?S .
                   [C-S-f4])
               (?R .
                   [C-S-f3])
               (?Q .
                   [C-S-f2])
               (?P .
                   [C-S-f1]))
           (?5 keymap
               (?H .
                   [C-home])
               (?F .
                   [C-end])
               (?D .
                   [C-left])
               (?C .
                   [C-right])
               (?B .
                   [C-down])
               (?A .
                   [C-up])
               (?S .
                   [C-f4])
               (?R .
                   [C-f3])
               (?Q .
                   [C-f2])
               (?P .
                   [C-f1]))
           (?2 keymap
               (?H .
                   [S-home])
               (?F .
                   [S-end])
               (?D .
                   [S-left])
               (?C .
                   [S-right])
               (?B .
                   [S-down])
               (?A .
                   [S-up])
               (?S .
                   [S-f4])
               (?R .
                   [S-f3])
               (?Q .
                   [S-f2])
               (?P .
                   [S-f1]))
           (?S .
               [f4])
           (?R .
               [f3])
           (?Q .
               [f2])
           (?P .
               [f1]))))

#+END_SRC 

* dealing with strange character codes

#+BEGIN_SRC emacs-lisp
  (= ?\d 127)
  (= ?\C-\? ?\d)
  (= ?\C-\d 67108991)

  (in-pr (key-description (vector (+ ?i (expt 2 26)))))
  "C-i"

  (character-code-to-escape-syntax (+ ?@ (expt 2 26)))
#+END_SRC 

* search for character codes

(replace-general "\\([[( ]\\)\\([0-9]+\\)\\([]) ]\\)" "\\1\\,(character-code-to-escape-syntax (string-to-number \\2) 'pseudocode)\\3" t)

